\hypertarget{example_load_example_load}{}\doxysubsection{Save and load HDF5 files}\label{example_load_example_load}
For a detailed documentation see \href{https://docs.h5py.org/en/stable/quick.html}{\texttt{ https\+://docs.\+h5py.\+org/en/stable/quick.\+html}} A very basic example how to load files generated with \mbox{\hyperlink{namespace_q_n_v4py}{QNV4py}} is given below

Lets generate some data 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{import} os, sys}
\DoxyCodeLine{os.environ[\textcolor{stringliteral}{'OMP\_NUM\_THREADS'}] = \textcolor{stringliteral}{'4'}}
\DoxyCodeLine{\textcolor{keyword}{import} numpy \textcolor{keyword}{as} np}
\DoxyCodeLine{\textcolor{keyword}{import} matplotlib.pyplot \textcolor{keyword}{as} plt}
\DoxyCodeLine{\textcolor{keyword}{import} QNV4py \textcolor{keyword}{as} qnv}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\# system parameters}}
\DoxyCodeLine{L = 12}
\DoxyCodeLine{AC\_function= \textcolor{keywordtype}{None}}
\DoxyCodeLine{detuning = \textcolor{keywordtype}{None}}
\DoxyCodeLine{rabi\_freq = np.pi/2}
\DoxyCodeLine{noise = 0.05}
\DoxyCodeLine{}
\DoxyCodeLine{c13\_spins = qnv.NV\_system.default(L)}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\# kick sequence with 50 x kicks of pi/2 followed by a single z kick with pi}}
\DoxyCodeLine{kick\_building\_blocks = [ [[(\textcolor{stringliteral}{'dd'},0.2),(\textcolor{stringliteral}{'x'},0.5)],50], [[(\textcolor{stringliteral}{'z'},1.0)],1]   ]}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\# NV\_dynmaics object }}
\DoxyCodeLine{c13\_dynamics = qnv.NV\_dynamics(c13\_spins,rabi\_freq,kick\_building\_blocks,detuning=detuning,AC\_function=AC\_function,noise=noise)}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\# define some single particle observables to be measured}}
\DoxyCodeLine{observables = c13\_spins.SP\_observable([\textcolor{stringliteral}{'x'}])}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\# define an initial state}}
\DoxyCodeLine{psi\_i = c13\_spins.initial\_state(\textcolor{stringliteral}{'x'})}
\DoxyCodeLine{}
\DoxyCodeLine{description = \{\textcolor{stringliteral}{'description'}:\textcolor{stringliteral}{"{}We store x,y and z magentization,the sequences is given by\(\backslash\)}}
\DoxyCodeLine{\textcolor{stringliteral}{                              [[('x',0.5),('dd',1.0),('y',0.4)],4], [[('z',0.5)],2]"{}},}
\DoxyCodeLine{               \textcolor{stringliteral}{'comment'}:\textcolor{stringliteral}{'this is the first data set of the series'}\}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{steps = 200}
\DoxyCodeLine{\textcolor{comment}{\# evolve periodically}}
\DoxyCodeLine{observables, times = c13\_dynamics.evolve\_periodic(psi\_i,}
\DoxyCodeLine{                                                   steps,}
\DoxyCodeLine{                                                   observables,}
\DoxyCodeLine{                                                   \textcolor{stringliteral}{'example\_file'},}
\DoxyCodeLine{                                                   save\_every=50,}
\DoxyCodeLine{                                                   folder=\textcolor{stringliteral}{'example\_data'},}
\DoxyCodeLine{                                                   extra\_save\_parameters=description)}

\end{DoxyCode}


Load and plot it 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{import} numpy \textcolor{keyword}{as} np}
\DoxyCodeLine{\textcolor{keyword}{import} h5py}
\DoxyCodeLine{\textcolor{keyword}{import} matplotlib.pyplot \textcolor{keyword}{as} plt}
\DoxyCodeLine{}
\DoxyCodeLine{load\_dir = \textcolor{stringliteral}{'./data/'}}
\DoxyCodeLine{filename = \textcolor{stringliteral}{'example\_file.hdf5'}}
\DoxyCodeLine{data\_set\_name=\textcolor{stringliteral}{'random\_drive'}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{with} h5py.File(load\_dir + filename,\textcolor{stringliteral}{'r'}) \textcolor{keyword}{as} h5f:}
\DoxyCodeLine{   times = h5f[data\_set\_name +\textcolor{stringliteral}{'/'}+ \textcolor{stringliteral}{'times'}][:]}
\DoxyCodeLine{   observables= h5f[data\_set\_name +\textcolor{stringliteral}{'/'}+ \textcolor{stringliteral}{'observables'}][:]}
\DoxyCodeLine{ }
\DoxyCodeLine{plt.plot(times,observables[0])}
\DoxyCodeLine{plt.show()}

\end{DoxyCode}
 